function onPage(t){return $("body").hasClass(t)}function loadingIcon(t){var e=["0","1","2","3","4","5","6","7"],i=0;loadAction=setInterval(function(){i=i<e.length-1?i+1:0,$(t).addClass("symbols").html(e[i])},100)}function removeOverlay(){$.cookie("overlay","shown",{expires:666}),$("#wrapper").css({position:"static",top:"auto",left:"auto",width:"100%",height:"100%","z-index":"auto",overflow:"visible",background:"transparent","background-size":"auto auto"}).find(".innerWrapper").fadeIn(200)}function getParameterByName(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function shadeColor(t,e){var i=parseInt(t,16),o=Math.round(2.55*e),n=(i>>16)+o,s=(255&i>>8)+o,a=(255&i)+o;return(16777216+65536*(255>n?1>n?0:n:255)+256*(255>s?1>s?0:s:255)+(255>a?1>a?0:a:255)).toString(16).slice(1)}function rgbToHex(t,e,i){return"#"+componentToHex(t)+componentToHex(e)+componentToHex(i)}function cleanArray(t){for(var e=new Array,i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e}/**
* bootstrap.js v3.0.0 by @fat and @mdo
* Copyright 2013 Twitter Inc.
* http://www.apache.org/licenses/LICENSE-2.0
*/
if(function(t,e){var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,o){var n=t.Event(i);return e.trigger(n,o),n.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(o){var n,s,a,r,l,c;if(i.fire(o,"ajax:before")){if(r=o.data("cross-domain")||null,l=o.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,o.is("form")){n=o.attr("method"),s=o.attr("action"),a=o.serializeArray();var h=o.data("ujs:submit-button");h&&(a.push(h),o.data("ujs:submit-button",null))}else o.is(i.inputChangeSelector)?(n=o.data("method"),s=o.data("url"),a=o.serialize(),o.data("params")&&(a=a+"&"+o.data("params"))):(n=o.data("method"),s=i.href(o),a=o.data("params")||null);return c={type:n||"GET",data:a,dataType:l,crossDomain:r,beforeSend:function(t,n){return n.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+n.accepts.script),i.fire(o,"ajax:beforeSend",[t,n])},success:function(t,e,i){o.trigger("ajax:success",[t,e,i])},complete:function(t,e){o.trigger("ajax:complete",[t,e])},error:function(t,e,i){o.trigger("ajax:error",[t,e,i])}},s&&(c.url=s),i.ajax(c)}return!1},handleMethod:function(o){var n=i.href(o),s=o.data("method"),a=o.attr("target"),r=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+n+'"></form>'),h='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&r!==e&&(h+='<input name="'+l+'" value="'+r+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,o=t.data("confirm"),n=!1;return o?(i.fire(t,"confirm")&&(n=i.confirm(o),e=i.fire(t,"confirm:complete",[n])),n&&e):!0},blankInputs:function(e,i,o){var n,s=t(),a=i||"input,textarea";return e.find(a).each(function(){n=t(this),(o?n.val():!n.val())&&(s=s.add(n))}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,o){var n=i.data("events"),s=!0;return n!==e&&n.submit!==e&&t.each(n.submit,function(t,e){return"function"==typeof e.handler?s=e.handler(o):void 0}),s},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},t.ajaxPrefilter(function(t,e,o){t.crossDomain||i.CSRFProtection(o)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(o){var n=t(this),s=n.data("method"),a=n.data("params");return i.allowAction(n)?(n.is(i.linkDisableSelector)&&i.disableElement(n),n.data("remote")!==e?!o.metaKey&&!o.ctrlKey||s&&"GET"!==s||a?(i.handleRemote(n)===!1&&i.enableElement(n),!1):!0:n.data("method")?(i.handleMethod(n),!1):void 0):i.stopEverything(o)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var o=t(this);return i.allowAction(o)?(i.handleRemote(o),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(o){var n=t(this),s=n.data("remote")!==e,a=i.blankInputs(n,i.requiredInputSelector),r=i.nonBlankInputs(n,i.fileInputSelector);return i.allowAction(n)?a&&n.attr("novalidate")==e&&i.fire(n,"ajax:aborted:required",[a])?i.stopEverything(o):s?r?i.fire(n,"ajax:aborted:file",[r]):!t.support.submitBubbles&&t().jquery<"1.7"&&i.callFormSubmitBindings(n,o)===!1?i.stopEverything(o):(i.handleRemote(n),!1):(setTimeout(function(){i.disableFormElements(n)},13),void 0):i.stopEverything(o)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var o=t(this);if(!i.allowAction(o))return i.stopEverything(e);var n=o.attr("name"),s=n?{name:n,value:o.val()}:null;o.closest("form").data("ujs:submit-button",s)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)})}(jQuery),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var i=e.currentTarget,o=t(i).data("association"),n=t("#"+t(i).data("blueprint-id")),s=n.data("blueprint"),a=(t(i).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(a)for(var r=a.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=a.match(/[0-9]+/g)||[],c=0;c<r.length;c++)l[c]&&(s=s.replace(new RegExp("(_"+r[c]+")_.+?_","g"),"$1_"+l[c]+"_"),s=s.replace(new RegExp("(\\["+r[c]+"\\])\\[.+?\\]","g"),"$1["+l[c]+"]"));var h=new RegExp("new_"+o,"g"),d=this.newId();s=t.trim(s.replace(h,d));var u=this.insertFields(s,o,i);return u.trigger({type:"nested:fieldAdded",field:u}).trigger({type:"nested:fieldAdded:"+o,field:u}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,i,o){var n=t(o).data("target");return n?t(e).appendTo(t(n)):t(e).insertBefore(o)},removeFields:function(e){var i=t(e.currentTarget),o=i.data("association"),n=i.prev("input[type=hidden]");n.val("1");var s=i.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+o,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),/*
 * Copyright 2011, Tobias Lindig
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 */
function(t){t.fn.closestChild=function(e){if(e&&""!=e){var i=[];for(i.push(this);i.length>0;)for(var o=i.shift(),n=o.children(),s=0;s<n.length;++s){var a=t(n[s]);if(a.is(e))return a;i.push(a)}}return t()}}(jQuery),!jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one(t.support.transition.end,function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e()})}(window.jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var s=t(n);e&&e.preventDefault(),s.length||(s=o.hasClass("alert")?o:o.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),n=o.data("bs.alert");n||o.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(o)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(window.jQuery),+function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active"));"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var o=t(this),n=o.data("button"),s="object"==typeof i&&i;n||o.data("bs.button",n=new e(this,s)),"toggle"==i?n.toggle():i&&n.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover"},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,o=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),n=i||o[e](),s=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;this.sliding=!0,s&&this.pause(),n=n.length?n:this.$element.find(".item")[r]();var c=t.Event("slide.bs.carousel",{relatedTarget:n[0],direction:a});if(!n.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;n.addClass(e),n[0].offsetWidth,o.addClass(a),n.addClass(a),o.one(t.support.transition.end,function(){n.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i),a="string"==typeof i?i:s.slide;n||o.data("bs.carousel",n=new e(this,s)),"number"==typeof i?n.to(i):a?n[a]():s.interval&&n.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,o=t(this),n=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},n.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),n.carousel(s),(a=o.attr("data-slide-to"))&&n.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .accordion-group > .in");if(i&&i.length){var o=i.data("bs.collapse");if(o&&o.transitioning)return;i.collapse("hide"),o||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[i](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350),void 0):o.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var o=t(this),n=o.data("bs.collapse"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i);n||o.data("bs.collapse",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,o=t(this),n=o.attr("data-target")||e.preventDefault()||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),a=s.data("bs.collapse"),r=a?"toggle":o.data(),l=o.attr("data-parent"),c=l&&t(l);a&&a.transitioning||(c&&c.find("[data-toggle=collapse][data-parent="+l+"]").not(o).addClass("collapsed"),o[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(r)})}(window.jQuery),+function(t){"use strict";function e(){t(o).remove(),t(n).each(function(e){var o=i(t(this));o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}var o=".dropdown-backdrop",n="[data-toggle=dropdown]",s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(e(),!a){if("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),s.trigger(o=t.Event("show.bs.dropdown")),o.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown")}return n.focus(),!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),a=s.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&s.find(n).focus(),o.click();var r=t("[role=menu] li:not(.divider):visible a",s);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("dropdown");o||i.data("dropdown",o=new s(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,s.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu]",s.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(){return this[this.isShown?"hide":"show"]()},e.prototype.show=function(){var e=this,i=t.Event("show.bs.modal");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown.bs.modal")}).emulateTransitionEnd(300):e.$element.focus().trigger("shown.bs.modal")}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var o=t(this),n=o.data("bs.modal"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i);n||o.data("bs.modal",n=new e(this,s)),"string"==typeof i?n[i]():s.show&&n.show()})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),o=i.attr("href"),n=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},n.data(),i.data());e.preventDefault(),n.modal(s).one("hide",function(){i.is(":visible")&&i.focus()})}),t(function(){var e=t(document.body).on("shown.bs.modal",".modal",function(){e.addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e.removeClass("modal-open")})})}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.enter=function(e){var i=this.getDefaults(),o={};this._options&&t.each(this._options,function(t,e){i[t]!=e&&(o[t]=e)});var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](o).data("bs."+this.type);return clearTimeout(n.timeout),n.options.delay&&n.options.delay.show?(n.hoverState="in",n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this._options).data("bs."+this.type);return clearTimeout(i.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,s=n.test(o);s&&(o=o.replace(n,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var a=this.getPosition(),r=i[0].offsetWidth,l=i[0].offsetHeight;if(s){var c=this.$element.parent(),h=o,d=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;o="bottom"==o&&a.top+a.height+l-d>p?"top":"top"==o&&a.top-d-l<0?"bottom":"right"==o&&a.right+r>u?"left":"left"==o&&a.left-r<f?"right":o,i.removeClass(h).addClass(o)}var m="bottom"==o?{top:a.top+a.height,left:a.left+a.width/2-r/2}:"top"==o?{top:a.top-l,left:a.left+a.width/2-r/2}:"left"==o?{top:a.top+a.height/2-l/2,left:a.left-r}:{top:a.top+a.height/2-l/2,left:a.left+a.width};this.applyPlacement(m,o),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight;t.top=t.top+parseInt(o.css("margin-top"),10),t.left=t.left+parseInt(o.css("margin-left"),10),o.offset(t).addClass("in");var a=o[0].offsetWidth,r=o[0].offsetHeight;if("top"==e&&r!=s&&(i=!0,t.top=t.top+s-r),"bottom"==e||"top"==e){var l=0;t.left<0&&(l=-2*t.left,t.left=0,o.offset(t),a=o[0].offsetWidth,r=o[0].offsetHeight),this.replaceArrow(l-n+a,a,"left")}else this.replaceArrow(r-s,r,"top");i&&o.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){var e=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(e.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e.one(t.support.transition.end,e.detach).emulateTransitionEnd(150):e.detach(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this._options).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof i&&i;n||o.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title:empty").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData(this.type)};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof i&&i;n||o.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),+function(t){"use strict";function e(i,o){var n,s=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||(n=t(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var o=t(this),n=o.data("target")||o.attr("href"),s=/^#\w/.test(n)&&t(n);return s&&s.length&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(e>=o)return a!=(t=s.last()[0])&&this.activate(t);for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.attr("data-target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:n});if(e.trigger(s),!s.isDefaultPrevented()){var a=t(o);this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:n})})}}},e.prototype.activate=function(e,i,o){function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&s.hasClass("fade");a?s.one(t.support.transition.end,n).emulateTransitionEnd(150):n(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new e(this)),"string"==typeof i&&n[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),o=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,a=s.top,r=s.bottom;"object"!=typeof s&&(r=a=s),"function"==typeof a&&(a=s.top()),"function"==typeof r&&(r=s.bottom());var l=null!=this.unpin&&o+this.unpin<=n.top?!1:null!=r&&n.top+this.$element.height()>=i-r?"bottom":null!=a&&a>=o?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?n.top-o:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof i&&i;n||o.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery),window.Modernizr=function(t,e,i){function o(){p.input=function(t){for(var e=0,i=t.length;i>e;e++)E[t[e]]=!!(t[e]in y);return E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(t){for(var o,n,s,a=0,r=t.length;r>a;a++)y.setAttribute("type",n=t[a]),o="text"!==y.type,o&&(y.value=w,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&y.style.WebkitAppearance!==i?(m.appendChild(y),s=e.defaultView,o=s.getComputedStyle&&"textfield"!==s.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,m.removeChild(y)):/^(search|tel)$/.test(n)||(/^(url|email)$/.test(n)?o=y.checkValidity&&y.checkValidity()===!1:/^color$/.test(n)?(m.appendChild(y),m.offsetWidth,o=y.value!=w,m.removeChild(y)):o=y.value!=w)),T[t[a]]=!!o;return T}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function n(t,e){var i=t.charAt(0).toUpperCase()+t.substr(1),o=(t+" "+S.join(i+" ")+i).split(" ");return!!s(o,e)}function s(t,e){for(var o in t)if(b[t[o]]!==i&&(!e||e(t[o],_)))return!0}function a(t,e){return-1!==(""+t).indexOf(e)}function r(t,e){return typeof t===e}function l(t,e){return c(x.join(t+";")+(e||""))}function c(t){b.cssText=t}var h,d,u="1.7",p={},f=!0,m=e.documentElement,g=e.head||e.getElementsByTagName("head")[0],v="modernizr",_=e.createElement(v),b=_.style,y=e.createElement("input"),w=":)",C=Object.prototype.toString,x=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),S="Webkit Moz O ms Khtml".split(" "),$={svg:"http://www.w3.org/2000/svg"},k={},T={},E={},A=[],D=function(t){var i,o=e.createElement("style"),n=e.createElement("div");return o.textContent=t+"{#modernizr{height:3px}}",g.appendChild(o),n.id="modernizr",m.appendChild(n),i=3===n.offsetHeight,o.parentNode.removeChild(o),n.parentNode.removeChild(n),!!i},B=function(){function t(t,n){n=n||e.createElement(o[t]||"div");var s=(t="on"+t)in n;return s||(n.setAttribute||(n=e.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(t,""),s=r(n[t],"function"),r(n[t],i)||(n[t]=i),n.removeAttribute(t))),n=null,s}var o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),I={}.hasOwnProperty;d=r(I,i)||r(I.call,i)?function(t,e){return e in t&&r(t.constructor.prototype[e],i)}:function(t,e){return I.call(t,e)},k.flexbox=function(){function t(t,e,i,o){t.style.cssText=x.join(e+":"+i+";")+(o||"")}function i(t,e,i,o){e+=":",t.style.cssText=(e+x.join(i+";"+e)).slice(0,-e.length)+(o||"")}var o=e.createElement("div"),n=e.createElement("div");i(o,"display","box","width:42px;padding:0;"),t(n,"box-flex","1","width:10px;"),o.appendChild(n),m.appendChild(o);var s=42===n.offsetWidth;return o.removeChild(n),m.removeChild(o),s},k.canvas=function(){var t=e.createElement("canvas");return t.getContext&&t.getContext("2d")},k.canvastext=function(){return p.canvas&&r(e.createElement("canvas").getContext("2d").fillText,"function")},k.webgl=function(){return!!t.WebGLRenderingContext},k.touch=function(){return"ontouchstart"in t||D("@media ("+x.join("touch-enabled),(")+"modernizr)")},k.geolocation=function(){return!!navigator.geolocation},k.postmessage=function(){return!!t.postMessage},k.websqldatabase=function(){var e=!!t.openDatabase;return e},k.indexedDB=function(){for(var e=-1,i=S.length;++e<i;){var o=S[e].toLowerCase();if(t[o+"_indexedDB"]||t[o+"IndexedDB"])return!0}return!1},k.hashchange=function(){return B("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},k.history=function(){return!(!t.history||!history.pushState)},k.draganddrop=function(){return B("dragstart")&&B("drop")},k.websockets=function(){return"WebSocket"in t},k.rgba=function(){return c("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},k.hsla=function(){return c("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},k.multiplebgs=function(){return c("background:url(//:),url(//:),red url(//:)"),new RegExp("(url\\s*\\(.*?){3}").test(b.background)},k.backgroundsize=function(){return n("backgroundSize")},k.borderimage=function(){return n("borderImage")},k.borderradius=function(){return n("borderRadius","",function(t){return a(t,"orderRadius")})},k.boxshadow=function(){return n("boxShadow")},k.textshadow=function(){return""===e.createElement("div").style.textShadow},k.opacity=function(){return l("opacity:.55"),/^0.55$/.test(b.opacity)},k.cssanimations=function(){return n("animationName")},k.csscolumns=function(){return n("columnCount")},k.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return c((t+x.join(e+t)+x.join(i+t)).slice(0,-t.length)),a(b.backgroundImage,"gradient")},k.cssreflections=function(){return n("boxReflect")},k.csstransforms=function(){return!!s(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},k.csstransforms3d=function(){var t=!!s(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return t&&"webkitPerspective"in m.style&&(t=D("@media ("+x.join("transform-3d),(")+"modernizr)")),t},k.csstransitions=function(){return n("transitionProperty")},k.fontface=function(){var t,i,o=g||m,n=e.createElement("style"),s=e.implementation||{hasFeature:function(){return!1}};n.type="text/css",o.insertBefore(n,o.firstChild),t=n.sheet||n.styleSheet;
var a=s.hasFeature("CSS2","")?function(e){if(!t||!e)return!1;var i=!1;try{t.insertRule(e,0),i=/src/i.test(t.cssRules[0].cssText),t.deleteRule(t.cssRules.length-1)}catch(o){}return i}:function(e){return t&&e?(t.cssText=e,0!==t.cssText.length&&/src/i.test(t.cssText)&&0===t.cssText.replace(/\r+|\n+/g,"").indexOf(e.split(" ")[0])):!1};return i=a('@font-face { font-family: "font"; src: url(data:,); }'),o.removeChild(n),i},k.video=function(){var t=e.createElement("video"),i=!!t.canPlayType;if(i){i=new Boolean(i),i.ogg=t.canPlayType('video/ogg; codecs="theora"');var o='video/mp4; codecs="avc1.42E01E';i.h264=t.canPlayType(o+'"')||t.canPlayType(o+', mp4a.40.2"'),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"')}return i},k.audio=function(){var t=e.createElement("audio"),i=!!t.canPlayType;return i&&(i=new Boolean(i),i.ogg=t.canPlayType('audio/ogg; codecs="vorbis"'),i.mp3=t.canPlayType("audio/mpeg;"),i.wav=t.canPlayType('audio/wav; codecs="1"'),i.m4a=t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")),i},k.localstorage=function(){try{return!!localStorage.getItem}catch(t){return!1}},k.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(t){return!1}},k.webWorkers=function(){return!!t.Worker},k.applicationcache=function(){return!!t.applicationCache},k.svg=function(){return!!e.createElementNS&&!!e.createElementNS($.svg,"svg").createSVGRect},k.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==$.svg},k.smil=function(){return!!e.createElementNS&&/SVG/.test(C.call(e.createElementNS($.svg,"animate")))},k.svgclippaths=function(){return!!e.createElementNS&&/SVG/.test(C.call(e.createElementNS($.svg,"clipPath")))};for(var P in k)d(k,P)&&(h=P.toLowerCase(),p[h]=k[P](),A.push((p[h]?"":"no-")+h));return p.input||o(),p.crosswindowmessaging=p.postmessage,p.historymanagement=p.history,p.addTest=function(t,e){return t=t.toLowerCase(),p[t]?void 0:(e=!!e(),m.className+=" "+(e?"":"no-")+t,p[t]=e,p)},c(""),_=y=null,f&&t.attachEvent&&function(){var t=e.createElement("div");return t.innerHTML="<elem></elem>",1!==t.childNodes.length}()&&function(t,e){function i(t,e){for(var o,n=-1,s=t.length,a=[];++n<s;)o=t[n],"screen"!=(e=o.media||e)&&a.push(i(o.imports,e),o.cssText);return a.join("")}function o(t){for(var e=-1;++e<r;)t.createElement(a[e])}var n,s="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",a=s.split("|"),r=a.length,l=new RegExp("(^|\\s)("+s+")","gi"),c=new RegExp("<(/*)("+s+")","gi"),h=new RegExp("(^|[^\\n]*?\\s)("+s+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),d=e.createDocumentFragment(),u=e.documentElement,p=u.firstChild,f=e.createElement("body"),m=e.createElement("style");o(e),o(d),p.insertBefore(m,p.firstChild),m.media="print",t.attachEvent("onbeforeprint",function(){var t,o=-1,s=i(e.styleSheets,"all"),p=[];for(n=n||e.body;null!=(t=h.exec(s));)p.push((t[1]+t[2]+t[3]).replace(l,"$1.iepp_$2")+t[4]);for(m.styleSheet.cssText=p.join("\n");++o<r;)for(var g=e.getElementsByTagName(a[o]),v=g.length,_=-1;++_<v;)g[_].className.indexOf("iepp_")<0&&(g[_].className+=" iepp_"+a[o]);d.appendChild(n),u.appendChild(f),f.className=n.className,f.innerHTML=n.innerHTML.replace(c,"<$1font")}),t.attachEvent("onafterprint",function(){f.innerHTML="",u.removeChild(f),u.appendChild(n),m.styleSheet.cssText=""})}(t,e),p._enableHTML5=f,p._version=u,m.className=m.className.replace(/\bno-js\b/,"")+" js "+A.join(" "),p}(this,this.document),/*! Backstretch - v2.0.3 - 2012-11-30
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2012 Scott Robbin; Licensed MIT */
function(t,e,i){"use strict";t.fn.backstretch=function(o,s){return(o===i||0===o.length)&&t.error("No images were supplied for Backstretch"),0===t(e).scrollTop()&&e.scrollTo(0,0),this.each(function(){var e=t(this),i=e.data("backstretch");i&&(s=t.extend(i.options,s),i.destroy(!0)),i=new n(this,o,s),e.data("backstretch",i)})},t.backstretch=function(e,i){return t("body").backstretch(e,i).data("backstretch")},t.expr[":"].backstretch=function(e){return t(e).data("backstretch")!==i},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var o={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999}},n=function(i,n,a){if(this.options=t.extend({},t.fn.backstretch.defaults,a||{}),this.images=t.isArray(n)?n:[n],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=t(i),this.$wrap=t('<div class="backstretch"></div>').css(o.wrap).appendTo(this.$container),this.$root=this.isBody?s?t(e):t(document):this.$container,!this.isBody){var r=this.$container.css("position"),l=this.$container.css("zIndex");this.$container.css({position:"static"===r?"relative":r,zIndex:"auto"===l?0:l,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),t(e).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===e.pageYOffset&&(e.scrollTo(0,1),this.resize())},this))};n.prototype={resize:function(){try{var t,i={left:0,top:0},o=this.isBody?this.$root.width():this.$root.innerWidth(),n=o,s=this.isBody?e.innerHeight?e.innerHeight:this.$root.height():this.$root.innerHeight(),a=n/this.$img.data("ratio");a>=s?(t=(a-s)/2,this.options.centeredY&&(i.top="-"+t+"px")):(a=s,n=a*this.$img.data("ratio"),t=(n-o)/2,this.options.centeredX&&(i.left="-"+t+"px")),this.$wrap.css({width:o,height:s}).find("img:not(.deleteable)").css({width:n,height:a}).css(i)}catch(r){}return this},show:function(e){if(!(Math.abs(e)>this.images.length-1)){this.index=e;var i=this,n=i.$wrap.find("img").addClass("deleteable"),s=t.Event("backstretch.show",{relatedTarget:i.$container[0]});return clearInterval(i.interval),i.$img=t("<img />").css(o.img).bind("load",function(e){var o=this.width||t(e.target).width(),a=this.height||t(e.target).height();t(this).data("ratio",o/a),t(this).fadeIn(i.options.speed||i.options.fade,function(){n.remove(),i.paused||i.cycle(),i.$container.trigger(s,i)}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[e]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){t(e).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s=function(){var t=navigator.userAgent,i=navigator.platform,o=t.match(/AppleWebKit\/([0-9]+)/),n=!!o&&o[1],s=t.match(/Fennec\/([0-9]+)/),a=!!s&&s[1],r=t.match(/Opera Mobi\/([0-9]+)/),l=!!r&&r[1],c=t.match(/MSIE ([0-9]+)/),h=!!c&&c[1];return!((i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&n&&534>n||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||r&&7458>l||t.indexOf("Android")>-1&&n&&533>n||a&&6>a||"palmGetResource"in e&&n&&534>n||t.indexOf("MeeGo")>-1&&t.indexOf("NokiaBrowser/8.5.0")>-1||h&&6>=h)}()}(jQuery,window),/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return n.raw?t:decodeURIComponent(t.replace(o," "))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t=e(t);try{return n.json?JSON.parse(t):t}catch(i){}}var o=/\+/g,n=t.cookie=function(o,s,a){if(void 0!==s){if(a=t.extend({},n.defaults,a),"number"==typeof a.expires){var r=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+r)}return s=n.json?JSON.stringify(s):String(s),document.cookie=[n.raw?o:encodeURIComponent(o),"=",n.raw?s:encodeURIComponent(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var c=document.cookie.split("; "),h=o?void 0:{},d=0,u=c.length;u>d;d++){var p=c[d].split("="),f=e(p.shift()),m=p.join("=");if(o&&o===f){h=i(m);break}o||(h[f]=i(m))}return h};n.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)?(t.cookie(e,"",t.extend({},i,{expires:-1})),!0):!1}}),/**
 * Isotope v1.5.25
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 *
 * Commercial use requires one-time purchase of a commercial license
 * http://isotope.metafizzy.co/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright 2013 Metafizzy
 */
function(t,e){"use strict";var i,o=t.document,n=t.Modernizr,s=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},a="Moz Webkit O Ms".split(" "),r=function(t){var e,i=o.documentElement.style;if("string"==typeof i[t])return t;t=s(t);for(var n=0,r=a.length;r>n;n++)if(e=a[n]+t,"string"==typeof i[e])return e},l=r("transform"),c=r("transitionProperty"),h={csstransforms:function(){return!!l},csstransforms3d:function(){var t=!!r("perspective");if(t){var i=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),o="@media ("+i.join("transform-3d),(")+"modernizr)",n=e("<style>"+o+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=e('<div id="modernizr" />').appendTo("html");t=3===s.height(),s.remove(),n.remove()}return t},csstransitions:function(){return!!c}};if(n)for(i in h)n.hasOwnProperty(i)||n.addTest(i,h[i]);else{n=t.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var d,u=" ";for(i in h)d=h[i](),n[i]=d,u+=" "+(d?"":"no-")+i;e("html").addClass(u)}if(n.csstransforms){var p=n.csstransforms3d?{translate:function(t){return"translate3d("+t[0]+"px, "+t[1]+"px, 0) "},scale:function(t){return"scale3d("+t+", "+t+", 1) "}}:{translate:function(t){return"translate("+t[0]+"px, "+t[1]+"px) "},scale:function(t){return"scale("+t+") "}},f=function(t,i,o){var n,s,a=e.data(t,"isoTransform")||{},r={},c={};r[i]=o,e.extend(a,r);for(n in a)s=a[n],c[n]=p[n](s);var h=c.translate||"",d=c.scale||"",u=h+d;e.data(t,"isoTransform",a),t.style[l]=u};e.cssNumber.scale=!0,e.cssHooks.scale={set:function(t,e){f(t,"scale",e)},get:function(t){var i=e.data(t,"isoTransform");return i&&i.scale?i.scale:1}},e.fx.step.scale=function(t){e.cssHooks.scale.set(t.elem,t.now+t.unit)},e.cssNumber.translate=!0,e.cssHooks.translate={set:function(t,e){f(t,"translate",e)},get:function(t){var i=e.data(t,"isoTransform");return i&&i.translate?i.translate:[0,0]}}}var m,g;n.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[c],g=r("transitionDuration"));var v,_=e.event,b=e.event.handle?"handle":"dispatch";_.special.smartresize={setup:function(){e(this).bind("resize",_.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",_.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",v&&clearTimeout(v),v=setTimeout(function(){_[b].apply(i,o)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Isotope=function(t,i,o){this.element=e(i),this._create(t),this._init(o)};var y=["width","height"],w=e(t);e.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},e.Isotope.prototype={_create:function(t){this.options=e.extend({},e.Isotope.settings,t),this.styleQueue=[],this.elemCount=0;var i=this.element[0].style;this.originalStyle={};var o=y.slice(0);for(var n in this.options.containerStyle)o.push(n);for(var s=0,a=o.length;a>s;s++)n=o[s],this.originalStyle[n]=i[n]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var r={"original-order":function(t,e){return e.elemCount++,e.elemCount},random:function(){return Math.random()}};this.options.getSortData=e.extend(this.options.getSortData,r),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&w.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(t){var e=this.options.itemSelector,i=e?t.filter(e).add(t.find(e)):t,o={position:"absolute"};return i=i.filter(function(t,e){return 1===e.nodeType}),this.usingTransforms&&(o.left=0,o.top=0),i.css(o).addClass(this.options.itemClass),this.updateSortData(i,!0),i},_init:function(t){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(t)},option:function(t){if(e.isPlainObject(t)){this.options=e.extend(!0,this.options,t);var i;for(var o in t)i="_update"+s(o),this[i]&&this[i]()}},_updateAnimationEngine:function(){var t,e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!n.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var t=this.usingTransforms=this.options.transformsEnabled&&n.csstransforms&&n.csstransitions&&!this.isUsingJQueryAnimation;t||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=t?this._translate:this._positionAbs},_filter:function(t){var e=""===this.options.filter?"*":this.options.filter;if(!e)return t;var i=this.options.hiddenClass,o="."+i,n=t.filter(o),s=n;if("*"!==e){s=n.filter(e);var a=t.not(o).not(e).addClass(i);this.styleQueue.push({$el:a,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(i),t.filter(e)},updateSortData:function(t,i){var o,n,s=this,a=this.options.getSortData;t.each(function(){o=e(this),n={};for(var t in a)n[t]=i||"original-order"!==t?a[t](o,s):e.data(this,"isotope-sort-data")[t];e.data(this,"isotope-sort-data",n)})},_sort:function(){var t=this.options.sortBy,e=this._getSorter,i=this.options.sortAscending?1:-1,o=function(o,n){var s=e(o,t),a=e(n,t);return s===a&&"original-order"!==t&&(s=e(o,"original-order"),a=e(n,"original-order")),(s>a?1:a>s?-1:0)*i};this.$filteredAtoms.sort(o)},_getSorter:function(t,i){return e.data(t,"isotope-sort-data")[i]},_translate:function(t,e){return{translate:[t,e]}},_positionAbs:function(t,e){return{left:t,top:e}},_pushPosition:function(t,e,i){e=Math.round(e+this.offset.left),i=Math.round(i+this.offset.top);var o=this.getPositionStyles(e,i);this.styleQueue.push({$el:t,style:o}),this.options.itemPositionDataEnabled&&t.data("isotope-item-position",{x:e,y:i})},layout:function(t,e){var i=this.options.layoutMode;if(this["_"+i+"Layout"](t),this.options.resizesContainer){var o=this["_"+i+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:o})}this._processStyleQueue(t,e),this.isLaidOut=!0},_processStyleQueue:function(t,i){var o,s,a,r,l=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",c=this.options.animationOptions,h=this.options.onLayout;if(s=function(t,e){e.$el[l](e.style,c)},this._isInserting&&this.isUsingJQueryAnimation)s=function(t,e){o=e.$el.hasClass("no-transition")?"css":l,e.$el[o](e.style,c)};else if(i||h||c.complete){var d=!1,u=[i,h,c.complete],p=this;if(a=!0,r=function(){if(!d){for(var e,i=0,o=u.length;o>i;i++)e=u[i],"function"==typeof e&&e.call(p.element,t,p);d=!0}},this.isUsingJQueryAnimation&&"animate"===l)c.complete=r,a=!1;else if(n.csstransitions){for(var f,v=0,_=this.styleQueue[0],b=_&&_.$el;!b||!b.length;){if(f=this.styleQueue[v++],!f)return;b=f.$el}var y=parseFloat(getComputedStyle(b[0])[g]);y>0&&(s=function(t,e){e.$el[l](e.style,c).one(m,r)},a=!1)}}e.each(this.styleQueue,s),a&&r(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(t){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,t)},addItems:function(t,e){var i=this._getAtoms(t);this.$allAtoms=this.$allAtoms.add(i),e&&e(i)},insert:function(t,e){this.element.append(t);var i=this;this.addItems(t,function(t){var o=i._filter(t);i._addHideAppended(o),i._sort(),i.reLayout(),i._revealAppended(o,e)})},appended:function(t,e){var i=this;this.addItems(t,function(t){i._addHideAppended(t),i.layout(t),i._revealAppended(t,e)})},_addHideAppended:function(t){this.$filteredAtoms=this.$filteredAtoms.add(t),t.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:t,style:this.options.hiddenStyle})},_revealAppended:function(t,e){var i=this;setTimeout(function(){t.removeClass("no-transition"),i.styleQueue.push({$el:t,style:i.options.visibleStyle}),i._isInserting=!1,i._processStyleQueue(t,e)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(t,e){this.$allAtoms=this.$allAtoms.not(t),this.$filteredAtoms=this.$filteredAtoms.not(t);var i=this,o=function(){t.remove(),e&&e.call(i.element)};t.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:t,style:this.options.hiddenStyle}),this._sort(),this.reLayout(o)):o()},shuffle:function(t){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(t)},destroy:function(){var t=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var e=this.style;e.position="",e.top="",e.left="",e.opacity="",t&&(e[l]="")});var i=this.element[0].style;for(var o in this.originalStyle)i[o]=this.originalStyle[o];this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),w.unbind(".isotope")},_getSegments:function(t){var e,i=this.options.layoutMode,o=t?"rowHeight":"columnWidth",n=t?"height":"width",a=t?"rows":"cols",r=this.element[n](),l=this.options[i]&&this.options[i][o]||this.$filteredAtoms["outer"+s(n)](!0)||r;e=Math.floor(r/l),e=Math.max(e,1),this[i][a]=e,this[i][o]=l},_checkIfSegmentsChanged:function(t){var e=this.options.layoutMode,i=t?"rows":"cols",o=this[e][i];return this._getSegments(t),this[e][i]!==o},_masonryReset:function(){this.masonry={},this._getSegments();var t=this.masonry.cols;for(this.masonry.colYs=[];t--;)this.masonry.colYs.push(0)},_masonryLayout:function(t){var i=this,o=i.masonry;t.each(function(){var t=e(this),n=Math.ceil(t.outerWidth(!0)/o.columnWidth);if(n=Math.min(n,o.cols),1===n)i._masonryPlaceBrick(t,o.colYs);else{var s,a,r=o.cols+1-n,l=[];for(a=0;r>a;a++)s=o.colYs.slice(a,a+n),l[a]=Math.max.apply(Math,s);i._masonryPlaceBrick(t,l)}})},_masonryPlaceBrick:function(t,e){for(var i=Math.min.apply(Math,e),o=0,n=0,s=e.length;s>n;n++)if(e[n]===i){o=n;break}var a=this.masonry.columnWidth*o,r=i;this._pushPosition(t,a,r);var l=i+t.outerHeight(!0),c=this.masonry.cols+1-s;for(n=0;c>n;n++)this.masonry.colYs[o+n]=l},_masonryGetContainerSize:function(){var t=Math.max.apply(Math,this.masonry.colYs);return{height:t}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(t){var i=this,o=this.element.width(),n=this.fitRows;t.each(function(){var t=e(this),s=t.outerWidth(!0),a=t.outerHeight(!0);0!==n.x&&s+n.x>o&&(n.x=0,n.y=n.height),i._pushPosition(t,n.x,n.y),n.height=Math.max(n.y+a,n.height),n.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(t){var i=this,o=this.cellsByRow;t.each(function(){var t=e(this),n=o.index%o.cols,s=Math.floor(o.index/o.cols),a=(n+.5)*o.columnWidth-t.outerWidth(!0)/2,r=(s+.5)*o.rowHeight-t.outerHeight(!0)/2;i._pushPosition(t,a,r),o.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(t){var i=this;t.each(function(){var t=e(this);i._pushPosition(t,0,i.straightDown.y),i.straightDown.y+=t.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var t=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];t--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(t){var i=this,o=i.masonryHorizontal;t.each(function(){var t=e(this),n=Math.ceil(t.outerHeight(!0)/o.rowHeight);if(n=Math.min(n,o.rows),1===n)i._masonryHorizontalPlaceBrick(t,o.rowXs);else{var s,a,r=o.rows+1-n,l=[];for(a=0;r>a;a++)s=o.rowXs.slice(a,a+n),l[a]=Math.max.apply(Math,s);i._masonryHorizontalPlaceBrick(t,l)}})},_masonryHorizontalPlaceBrick:function(t,e){for(var i=Math.min.apply(Math,e),o=0,n=0,s=e.length;s>n;n++)if(e[n]===i){o=n;break}var a=i,r=this.masonryHorizontal.rowHeight*o;this._pushPosition(t,a,r);var l=i+t.outerWidth(!0),c=this.masonryHorizontal.rows+1-s;for(n=0;c>n;n++)this.masonryHorizontal.rowXs[o+n]=l},_masonryHorizontalGetContainerSize:function(){var t=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:t}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(t){var i=this,o=this.element.height(),n=this.fitColumns;t.each(function(){var t=e(this),s=t.outerWidth(!0),a=t.outerHeight(!0);0!==n.y&&a+n.y>o&&(n.x=n.width,n.y=0),i._pushPosition(t,n.x,n.y),n.width=Math.max(n.x+s,n.width),n.y+=a})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(t){var i=this,o=this.cellsByColumn;t.each(function(){var t=e(this),n=Math.floor(o.index/o.rows),s=o.index%o.rows,a=(n+.5)*o.columnWidth-t.outerWidth(!0)/2,r=(s+.5)*o.rowHeight-t.outerHeight(!0)/2;i._pushPosition(t,a,r),o.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(t){var i=this;t.each(function(){var t=e(this);i._pushPosition(t,i.straightAcross.x,0),i.straightAcross.x+=t.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},e.fn.imagesLoaded=function(t){function i(){t.call(n,s)}function o(t){var n=t.target;n.src!==r&&-1===e.inArray(n,l)&&(l.push(n),--a<=0&&(setTimeout(i),s.unbind(".imagesLoaded",o)))}var n=this,s=n.find("img").add(n.filter("img")),a=s.length,r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return a||i(),s.bind("load.imagesLoaded error.imagesLoaded",o).each(function(){var t=this.src;this.src=r,this.src=t}),n};var C=function(e){t.console&&t.console.error(e)};e.fn.isotope=function(t,i){if("string"==typeof t){var o=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"isotope");return i?e.isFunction(i[t])&&"_"!==t.charAt(0)?(i[t].apply(i,o),void 0):(C("no such method '"+t+"' for isotope instance"),void 0):(C("cannot call methods on isotope prior to initialization; attempted to call method '"+t+"'"),void 0)})}else this.each(function(){var o=e.data(this,"isotope");o?(o.option(t),o._init(i)):e.data(this,"isotope",new e.Isotope(t,this,i))});return this}}(window,jQuery),/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
function(t){function e(e){var i=e||window.event,o=[].slice.call(arguments,1),n=0,s=0,a=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(n=i.wheelDelta/120),i.detail&&(n=-i.detail/3),a=n,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,s=-1*n),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(s=-1*i.wheelDeltaX/120),o.unshift(e,n,s,a),(t.event.dispatch||t.event.handle).apply(this,o)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var o=i.length;o;)t.event.fixHooks[i[--o]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t){var e={init:function(e){var i={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},e=t.extend(!0,i,e);return this.each(function(){var i=t(this);if(e.set_width&&i.css("width",e.set_width),e.set_height&&i.css("height",e.set_height),t(document).data("mCustomScrollbar-index")){var o=parseInt(t(document).data("mCustomScrollbar-index"));t(document).data("mCustomScrollbar-index",o+1)}else t(document).data("mCustomScrollbar-index","1");i.wrapInner("<div class='mCustomScrollBox mCS-"+e.theme+"' id='mCSB_"+t(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+t(document).data("mCustomScrollbar-index"));var n=i.children(".mCustomScrollBox");if(e.horizontalScroll){n.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var s=n.children(".mCSB_h_wrapper");s.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:s.children().outerWidth(),position:"relative"}).unwrap()}else n.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var a=n.children(".mCSB_container");t.support.touch&&a.addClass("mCS_touch"),a.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var r=n.children(".mCSB_scrollTools"),l=r.children(".mCSB_draggerContainer"),c=l.children(".mCSB_dragger");if(e.horizontalScroll?c.data("minDraggerWidth",c.width()):c.data("minDraggerHeight",c.height()),e.scrollButtons.enable&&(e.horizontalScroll?r.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>"):r.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")),n.bind("scroll",function(){i.is(".mCS_disabled")||n.scrollTop(0).scrollLeft(0)}),i.data({mCS_Init:!0,mCustomScrollbarIndex:t(document).data("mCustomScrollbar-index"),horizontalScroll:e.horizontalScroll,scrollInertia:e.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:e.mouseWheel,mouseWheelPixels:e.mouseWheelPixels,autoDraggerLength:e.autoDraggerLength,autoHideScrollbar:e.autoHideScrollbar,snapAmount:e.snapAmount,snapOffset:e.snapOffset,scrollButtons_enable:e.scrollButtons.enable,scrollButtons_scrollType:e.scrollButtons.scrollType,scrollButtons_scrollSpeed:e.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:e.scrollButtons.scrollAmount,autoExpandHorizontalScroll:e.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:e.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:e.advanced.normalizeMouseWheelDelta,contentTouchScroll:e.contentTouchScroll,onScrollStart_Callback:e.callbacks.onScrollStart,onScroll_Callback:e.callbacks.onScroll,onTotalScroll_Callback:e.callbacks.onTotalScroll,onTotalScrollBack_Callback:e.callbacks.onTotalScrollBack,onTotalScroll_Offset:e.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:e.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:e.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),e.horizontalScroll)"none"!==i.css("max-width")&&(e.advanced.updateOnContentResize||(e.advanced.updateOnContentResize=!0));else if("none"!==i.css("max-height")){var h=!1,d=parseInt(i.css("max-height"));i.css("max-height").indexOf("%")>=0&&(h=d,d=i.parent().height()*h/100),i.css("overflow","hidden"),n.css("max-height",d)}if(i.mCustomScrollbar("update"),e.advanced.updateOnBrowserResize){var u,p=t(window).width(),f=t(window).height();t(window).bind("resize."+i.data("mCustomScrollbarIndex"),function(){u&&clearTimeout(u),u=setTimeout(function(){if(!i.is(".mCS_disabled")&&!i.is(".mCS_destroyed")){var e=t(window).width(),o=t(window).height();(p!==e||f!==o)&&("none"!==i.css("max-height")&&h&&n.css("max-height",i.parent().height()*h/100),i.mCustomScrollbar("update"),p=e,f=o)}},150)})}if(e.advanced.updateOnContentResize){var m;if(e.horizontalScroll)var g=a.outerWidth();else var g=a.outerHeight();m=setInterval(function(){if(e.horizontalScroll){e.advanced.autoExpandHorizontalScroll&&a.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:a.outerWidth(),position:"relative"}).unwrap();var t=a.outerWidth()}else var t=a.outerHeight();t!=g&&(i.mCustomScrollbar("update"),g=t)},300)}})},update:function(){var e=t(this),i=e.children(".mCustomScrollBox"),o=i.children(".mCSB_container");o.removeClass("mCS_no_scrollbar"),e.removeClass("mCS_disabled mCS_destroyed"),i.scrollTop(0).scrollLeft(0);var n=i.children(".mCSB_scrollTools"),s=n.children(".mCSB_draggerContainer"),a=s.children(".mCSB_dragger");if(e.data("horizontalScroll")){var r=n.children(".mCSB_buttonLeft"),l=n.children(".mCSB_buttonRight"),c=i.width();e.data("autoExpandHorizontalScroll")&&o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap();var h=o.outerWidth()}else var d=n.children(".mCSB_buttonUp"),u=n.children(".mCSB_buttonDown"),p=i.height(),f=o.outerHeight();if(f>p&&!e.data("horizontalScroll")){n.css("display","block");var m=s.height();if(e.data("autoDraggerLength")){var g=Math.round(p/f*m),v=a.data("minDraggerHeight");if(v>=g)a.css({height:v});else if(g>=m-10){var _=m-10;a.css({height:_})}else a.css({height:g});a.children(".mCSB_dragger_bar").css({"line-height":a.height()+"px"})}var b=a.height(),y=(f-p)/(m-b);e.data("scrollAmount",y).mCustomScrollbar("scrolling",i,o,s,a,d,u,r,l);var w=Math.abs(o.position().top);e.mCustomScrollbar("scrollTo",w,{scrollInertia:0,trigger:"internal"})}else if(h>c&&e.data("horizontalScroll")){n.css("display","block");var C=s.width();if(e.data("autoDraggerLength")){var x=Math.round(c/h*C),S=a.data("minDraggerWidth");if(S>=x)a.css({width:S});else if(x>=C-10){var $=C-10;a.css({width:$})}else a.css({width:x})}var k=a.width(),y=(h-c)/(C-k);e.data("scrollAmount",y).mCustomScrollbar("scrolling",i,o,s,a,d,u,r,l);var w=Math.abs(o.position().left);e.mCustomScrollbar("scrollTo",w,{scrollInertia:0,trigger:"internal"})}else i.unbind("mousewheel focusin"),e.data("horizontalScroll")?a.add(o).css("left",0):a.add(o).css("top",0),n.css("display","none"),o.addClass("mCS_no_scrollbar"),e.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1})},scrolling:function(e,o,n,s,a,r,l,c){function h(t,e,i,o){p.data("horizontalScroll")?p.mCustomScrollbar("scrollTo",s.position().left-e+o,{moveDragger:!0,trigger:"internal"}):p.mCustomScrollbar("scrollTo",s.position().top-t+i,{moveDragger:!0,trigger:"internal"})}function d(t){s.data("preventAction")||(s.data("preventAction",!0),p.mCustomScrollbar("scrollTo",t,{trigger:"internal"}))}function u(){var t=p.data("scrollButtons_scrollSpeed");return"auto"===p.data("scrollButtons_scrollSpeed")&&(t=Math.round((p.data("scrollInertia")+100)/40)),t}var p=t(this);if(!p.data("bindEvent_scrollbar_drag")){var f,m;t.support.msPointer?(s.bind("MSPointerDown",function(e){e.preventDefault(),p.data({on_drag:!0}),s.addClass("mCSB_dragger_onDrag");var i=t(this),o=i.offset(),n=e.originalEvent.pageX-o.left,a=e.originalEvent.pageY-o.top;n<i.width()&&n>0&&a<i.height()&&a>0&&(f=a,m=n)}),t(document).bind("MSPointerMove."+p.data("mCustomScrollbarIndex"),function(t){if(t.preventDefault(),p.data("on_drag")){var e=s,i=e.offset(),o=t.originalEvent.pageX-i.left,n=t.originalEvent.pageY-i.top;h(f,m,n,o)}}).bind("MSPointerUp."+p.data("mCustomScrollbarIndex"),function(){p.data({on_drag:!1}),s.removeClass("mCSB_dragger_onDrag")})):(s.bind("mousedown touchstart",function(e){e.preventDefault(),e.stopImmediatePropagation();var i,o,n=t(this),a=n.offset();if("touchstart"===e.type){var r=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];i=r.pageX-a.left,o=r.pageY-a.top}else p.data({on_drag:!0}),s.addClass("mCSB_dragger_onDrag"),i=e.pageX-a.left,o=e.pageY-a.top;i<n.width()&&i>0&&o<n.height()&&o>0&&(f=o,m=i)}).bind("touchmove",function(e){e.preventDefault(),e.stopImmediatePropagation();var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=t(this),n=o.offset(),s=i.pageX-n.left,a=i.pageY-n.top;h(f,m,a,s)}),t(document).bind("mousemove."+p.data("mCustomScrollbarIndex"),function(t){if(p.data("on_drag")){var e=s,i=e.offset(),o=t.pageX-i.left,n=t.pageY-i.top;h(f,m,n,o)}}).bind("mouseup."+p.data("mCustomScrollbarIndex"),function(){p.data({on_drag:!1}),s.removeClass("mCSB_dragger_onDrag")})),p.data({bindEvent_scrollbar_drag:!0})}if(t.support.touch&&p.data("contentTouchScroll")&&!p.data("bindEvent_content_touch")){var g,v,_,b,y,w,C;o.bind("touchstart",function(e){e.stopImmediatePropagation(),g=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],v=t(this),_=v.offset(),y=g.pageX-_.left,b=g.pageY-_.top,w=b,C=y}),o.bind("touchmove",function(e){e.preventDefault(),e.stopImmediatePropagation(),g=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],v=t(this).parent(),_=v.offset(),y=g.pageX-_.left,b=g.pageY-_.top,p.data("horizontalScroll")?p.mCustomScrollbar("scrollTo",C-y,{trigger:"internal"}):p.mCustomScrollbar("scrollTo",w-b,{trigger:"internal"})})}if(p.data("bindEvent_scrollbar_click")||(n.bind("click",function(e){var i=(e.pageY-n.offset().top)*p.data("scrollAmount"),o=t(e.target);p.data("horizontalScroll")&&(i=(e.pageX-n.offset().left)*p.data("scrollAmount")),(o.hasClass("mCSB_draggerContainer")||o.hasClass("mCSB_draggerRail"))&&p.mCustomScrollbar("scrollTo",i,{trigger:"internal",scrollEasing:"draggerRailEase"})}),p.data({bindEvent_scrollbar_click:!0})),p.data("mouseWheel")&&(p.data("bindEvent_mousewheel")||(e.bind("mousewheel",function(t,e){var i,a=p.data("mouseWheelPixels"),r=Math.abs(o.position().top),l=s.position().top,c=n.height()-s.height();p.data("normalizeMouseWheelDelta")&&(e=0>e?-1:1),"auto"===a&&(a=100+Math.round(p.data("scrollAmount")/2)),p.data("horizontalScroll")&&(l=s.position().left,c=n.width()-s.width(),r=Math.abs(o.position().left)),(e>0&&0!==l||0>e&&l!==c)&&(t.preventDefault(),t.stopImmediatePropagation()),i=r-e*a,p.mCustomScrollbar("scrollTo",i,{trigger:"internal"})}),p.data({bindEvent_mousewheel:!0}))),p.data("scrollButtons_enable"))if("pixels"===p.data("scrollButtons_scrollType"))p.data("horizontalScroll")?(c.add(l).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",x,S),p.data({bindEvent_buttonsContinuous_x:!1}),p.data("bindEvent_buttonsPixels_x")||(c.bind("click",function(t){t.preventDefault(),d(Math.abs(o.position().left)+p.data("scrollButtons_scrollAmount"))}),l.bind("click",function(t){t.preventDefault(),d(Math.abs(o.position().left)-p.data("scrollButtons_scrollAmount"))}),p.data({bindEvent_buttonsPixels_x:!0}))):(r.add(a).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",x,S),p.data({bindEvent_buttonsContinuous_y:!1}),p.data("bindEvent_buttonsPixels_y")||(r.bind("click",function(t){t.preventDefault(),d(Math.abs(o.position().top)+p.data("scrollButtons_scrollAmount"))}),a.bind("click",function(t){t.preventDefault(),d(Math.abs(o.position().top)-p.data("scrollButtons_scrollAmount"))}),p.data({bindEvent_buttonsPixels_y:!0})));else if(p.data("horizontalScroll")){if(c.add(l).unbind("click"),p.data({bindEvent_buttonsPixels_x:!1}),!p.data("bindEvent_buttonsContinuous_x")){c.bind("mousedown touchstart MSPointerDown",function(t){t.preventDefault();var e=u();p.data({mCSB_buttonScrollRight:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(o.position().left)+e,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var x=function(t){t.preventDefault(),clearInterval(p.data("mCSB_buttonScrollRight"))};c.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",x),l.bind("mousedown touchstart MSPointerDown",function(t){t.preventDefault();var e=u();p.data({mCSB_buttonScrollLeft:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(o.position().left)-e,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var S=function(t){t.preventDefault(),clearInterval(p.data("mCSB_buttonScrollLeft"))};l.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",S),p.data({bindEvent_buttonsContinuous_x:!0})}}else if(r.add(a).unbind("click"),p.data({bindEvent_buttonsPixels_y:!1}),!p.data("bindEvent_buttonsContinuous_y")){r.bind("mousedown touchstart MSPointerDown",function(t){t.preventDefault();var e=u();p.data({mCSB_buttonScrollDown:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(o.position().top)+e,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var $=function(t){t.preventDefault(),clearInterval(p.data("mCSB_buttonScrollDown"))};r.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",$),a.bind("mousedown touchstart MSPointerDown",function(t){t.preventDefault();var e=u();p.data({mCSB_buttonScrollUp:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(o.position().top)-e,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var k=function(t){t.preventDefault(),clearInterval(p.data("mCSB_buttonScrollUp"))};a.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",k),p.data({bindEvent_buttonsContinuous_y:!0})}p.data("autoScrollOnFocus")&&(p.data("bindEvent_focusin")||(e.bind("focusin",function(){e.scrollTop(0).scrollLeft(0);var i=t(document.activeElement);if(i.is("input,textarea,select,button,a[tabindex],area,object")){var n=o.position().top,s=i.position().top,a=e.height()-i.outerHeight();p.data("horizontalScroll")&&(n=o.position().left,s=i.position().left,a=e.width()-i.outerWidth()),(0>n+s||n+s>a)&&p.mCustomScrollbar("scrollTo",s,{trigger:"internal"})}}),p.data({bindEvent_focusin:!0}))),p.data("autoHideScrollbar")&&(p.data("bindEvent_autoHideScrollbar")||(e.bind("mouseenter",function(){e.addClass("mCS-mouse-over"),i.showScrollbar.call(e.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(t){e.removeClass("mCS-mouse-over"),"mouseleave"===t.type&&i.hideScrollbar.call(e.children(".mCSB_scrollTools"))}),p.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(e,o){function n(t){switch(this.mcs={top:p.position().top,left:p.position().left,draggerTop:g.position().top,draggerLeft:g.position().left,topPct:Math.round(100*Math.abs(p.position().top)/Math.abs(p.outerHeight()-u.height())),leftPct:Math.round(100*Math.abs(p.position().left)/Math.abs(p.outerWidth()-u.width()))},t){case"onScrollStart":h.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(h,this.mcs);break;case"whileScrolling":h.data("whileScrolling_Callback").call(h,this.mcs);break;case"onScroll":h.data("onScroll_Callback").call(h,this.mcs);break;case"onTotalScrollBack":h.data("onTotalScrollBack_Callback").call(h,this.mcs);break;case"onTotalScroll":h.data("onTotalScroll_Callback").call(h,this.mcs)}}var s,a,r,l,c,h=t(this),d={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:h.data("scrollInertia"),scrollEasing:h.data("scrollEasing")},o=t.extend(d,o),u=h.children(".mCustomScrollBox"),p=u.children(".mCSB_container"),f=u.children(".mCSB_scrollTools"),m=f.children(".mCSB_draggerContainer"),g=m.children(".mCSB_dragger"),v=draggerSpeed=o.scrollInertia;if(!p.hasClass("mCS_no_scrollbar")&&(h.data({mCS_trigger:o.trigger}),h.data("mCS_Init")&&(o.callbacks=!1),e||0===e)){if("number"==typeof e)o.moveDragger?(s=e,e=h.data("horizontalScroll")?g.position().left*h.data("scrollAmount"):g.position().top*h.data("scrollAmount"),draggerSpeed=0):s=e/h.data("scrollAmount");else if("string"==typeof e){var _;_="top"===e?0:"bottom"!==e||h.data("horizontalScroll")?"left"===e?0:"right"===e&&h.data("horizontalScroll")?p.outerWidth()-u.width():"first"===e?h.find(".mCSB_container").find(":first"):"last"===e?h.find(".mCSB_container").find(":last"):h.find(e):p.outerHeight()-u.height(),1===_.length?(e=h.data("horizontalScroll")?_.position().left:_.position().top,s=e/h.data("scrollAmount")):s=e=_}if(h.data("horizontalScroll")){h.data("onTotalScrollBack_Offset")&&(r=-h.data("onTotalScrollBack_Offset")),h.data("onTotalScroll_Offset")&&(c=u.width()-p.outerWidth()+h.data("onTotalScroll_Offset")),0>s?(s=e=0,clearInterval(h.data("mCSB_buttonScrollLeft")),r||(a=!0)):s>=m.width()-g.width()?(s=m.width()-g.width(),e=u.width()-p.outerWidth(),clearInterval(h.data("mCSB_buttonScrollRight")),c||(l=!0)):e=-e;var b=h.data("snapAmount");b&&(e=Math.round(e/b)*b-h.data("snapOffset")),i.mTweenAxis.call(this,g[0],"left",Math.round(s),draggerSpeed,o.scrollEasing),i.mTweenAxis.call(this,p[0],"left",Math.round(e),v,o.scrollEasing,{onStart:function(){o.callbacks&&!h.data("mCS_tweenRunning")&&n("onScrollStart"),h.data("autoHideScrollbar")&&i.showScrollbar.call(f)},onUpdate:function(){o.callbacks&&n("whileScrolling")},onComplete:function(){o.callbacks&&(n("onScroll"),(a||r&&p.position().left>=r)&&n("onTotalScrollBack"),(l||c&&p.position().left<=c)&&n("onTotalScroll")),g.data("preventAction",!1),h.data("mCS_tweenRunning",!1),h.data("autoHideScrollbar")&&(u.hasClass("mCS-mouse-over")||i.hideScrollbar.call(f))}})}else{h.data("onTotalScrollBack_Offset")&&(r=-h.data("onTotalScrollBack_Offset")),h.data("onTotalScroll_Offset")&&(c=u.height()-p.outerHeight()+h.data("onTotalScroll_Offset")),0>s?(s=e=0,clearInterval(h.data("mCSB_buttonScrollUp")),r||(a=!0)):s>=m.height()-g.height()?(s=m.height()-g.height(),e=u.height()-p.outerHeight(),clearInterval(h.data("mCSB_buttonScrollDown")),c||(l=!0)):e=-e;var b=h.data("snapAmount");b&&(e=Math.round(e/b)*b-h.data("snapOffset")),i.mTweenAxis.call(this,g[0],"top",Math.round(s),draggerSpeed,o.scrollEasing),i.mTweenAxis.call(this,p[0],"top",Math.round(e),v,o.scrollEasing,{onStart:function(){o.callbacks&&!h.data("mCS_tweenRunning")&&n("onScrollStart"),h.data("autoHideScrollbar")&&i.showScrollbar.call(f)},onUpdate:function(){o.callbacks&&n("whileScrolling")},onComplete:function(){o.callbacks&&(n("onScroll"),(a||r&&p.position().top>=r)&&n("onTotalScrollBack"),(l||c&&p.position().top<=c)&&n("onTotalScroll")),g.data("preventAction",!1),h.data("mCS_tweenRunning",!1),h.data("autoHideScrollbar")&&(u.hasClass("mCS-mouse-over")||i.hideScrollbar.call(f))}})}h.data("mCS_Init")&&h.data({mCS_Init:!1})}},stop:function(){var e=t(this),o=e.children().children(".mCSB_container"),n=e.children().children().children().children(".mCSB_dragger");i.mTweenAxisStop.call(this,o[0]),i.mTweenAxisStop.call(this,n[0])},disable:function(e){var i=t(this),o=i.children(".mCustomScrollBox"),n=o.children(".mCSB_container"),s=o.children(".mCSB_scrollTools"),a=s.children().children(".mCSB_dragger");o.unbind("mousewheel focusin mouseenter mouseleave touchend"),n.unbind("touchstart touchmove"),e&&(i.data("horizontalScroll")?a.add(n).css("left",0):a.add(n).css("top",0)),s.css("display","none"),n.addClass("mCS_no_scrollbar"),i.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var e=t(this);e.removeClass("mCustomScrollbar _mCS_"+e.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(),t(document).unbind("mousemove."+e.data("mCustomScrollbarIndex")+" mouseup."+e.data("mCustomScrollbarIndex")+" MSPointerMove."+e.data("mCustomScrollbarIndex")+" MSPointerUp."+e.data("mCustomScrollbarIndex")),t(window).unbind("resize."+e.data("mCustomScrollbarIndex"))}},i={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(t,e,i,o,n,s){function a(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function r(){v||p.call(),v=a()-g,l(),v>=t._time&&(t._time=v>t._time?v+u-(v-t._time):v+u-1,t._time<v+1&&(t._time=v+1)),t._time<o?t._id=_request(r):m.call()}function l(){o>0?(t.currVal=d(t._time,_,y,o,n),b[e]=Math.round(t.currVal)+"px"):b[e]=i+"px",f.call()}function c(){u=1e3/60,t._time=v+u,_request=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},t._id=_request(r)}function h(){null!=t._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._id):clearTimeout(t._id),t._id=null)}function d(t,e,i,o,n){switch(n){case"linear":return i*t/o+e;case"easeOutQuad":return t/=o,-i*t*(t-2)+e;case"easeInOutQuad":return t/=o/2,1>t?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e);case"easeOutCubic":return t/=o,t--,i*(t*t*t+1)+e;case"easeOutQuart":return t/=o,t--,-i*(t*t*t*t-1)+e;case"easeOutQuint":return t/=o,t--,i*(t*t*t*t*t+1)+e;case"easeOutCirc":return t/=o,t--,i*Math.sqrt(1-t*t)+e;case"easeOutSine":return i*Math.sin(t/o*(Math.PI/2))+e;case"easeOutExpo":return i*(-Math.pow(2,-10*t/o)+1)+e;case"mcsEaseOut":var s=(t/=o)*t,a=s*t;return e+i*(.499999999999997*a*s+-2.5*s*s+5.5*a+-6.5*s+4*t);case"draggerRailEase":return t/=o/2,1>t?i/2*t*t*t+e:(t-=2,i/2*(t*t*t+2)+e)}}var u,s=s||{},p=s.onStart||function(){},f=s.onUpdate||function(){},m=s.onComplete||function(){},g=a(),v=0,_=t.offsetTop,b=t.style;"left"===e&&(_=t.offsetLeft);var y=i-_;h(),c()},mTweenAxisStop:function(t){null!=t._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._id):clearTimeout(t._id),t._id=null)},rafPolyfill:function(){for(var t=["ms","moz","webkit","o"],e=t.length;--e>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"]}};i.rafPolyfill.call(),t.support.touch=!!("ontouchstart"in window),t.support.msPointer=window.navigator.msPointerEnabled;var o="https:"==document.location.protocol?"https:":"http:";t.event.special.mousewheel||document.write('<script src="'+o+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"></script>'),t.fn.mCustomScrollbar=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("Method "+i+" does not exist"),void 0):e.init.apply(this,arguments)}}(jQuery),!function(){var t,e,i,o,n,s={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,o,n,s,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),s=t.childNodes,a=[],o=0,n=s.length;n>o;o++)i=s[o],a.push(this.add_option(i,e,t.disabled));return a},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),o.select_to_array=function(t){var e,i,n,s,a;for(i=new o,a=t.childNodes,n=0,s=a.length;s>n;n++)e=a[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,o,n,s;for(e="",s=this.results_data,o=0,n=s.length;n>o;o++)i=s[o],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match?this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li class="'+e.join(" ")+'"'+i+' data-option-array-index="'+t.array_index+'">'+t.search_text+"</li>"):"":""},t.prototype.result_add_group=function(t){return t.search_match||t.group_match?t.active_options>0?'<li class="group-result">'+t.search_text+"</li>":"":""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,o,n,s,a,r,l,c,h,d,u;for(this.no_results_clear(),n=0,a=this.get_search_text(),t=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),o=this.search_contains?"":"^",i=new RegExp(o+t,"i"),c=new RegExp(t,"i"),u=this.results_data,h=0,d=u.length;d>h;h++)e=u[h],e.search_match=!1,s=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(s=this.results_data[e.group_array_index],0===s.active_options&&s.search_match&&(n+=1),s.active_options+=1),(!e.group||this.group_search)&&(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(n+=1),e.search_match?(a.length&&(r=e.search_text.search(c),l=e.search_text.substr(0,r+a.length)+"</em>"+e.search_text.substr(r+a.length),e.search_text=l.substr(0,r)+"<em>"+l.substr(r)),null!=s&&(s.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>n&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var i,o,n,s;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(o=t.replace(/\[|\]/g,"").split(" "),o.length))for(n=0,s=o.length;s>n;n++)if(i=o[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,o;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,o=this.form_field.options,e=0,i=o.length;i>e;e++)t=o[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:t.empty?!1:!0},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0
},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(o){return e.browser_is_supported()?this.each(function(){var e,n;e=t(this),n=e.data("chosen"),"destroy"===o&&n?n.destroy():n||e.data("chosen",new i(this,o))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e,i,o;return e=-(null!=(i=t.originalEvent)?i.wheelDelta:void 0)||(null!=(o=t.originialEvent)?o.detail:void 0),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){return this.container.is(t(e.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=o.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,o,n,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),o=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),n=o+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-o>0?e-o:0);if(s>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,o,n=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(o=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),o.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(o)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i,o;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),o=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[o].selected=!1),this.result_single_selected=e),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,o,n,s,a,r,l,c;if(this.is_multiple){for(o=0,r=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=a.length;c>l;l++)n=a[l],s+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}.call(this),$(function(){if(""!=$(".msg").html()&&$(".messages").show(0),setTimeout(function(){$(".messages").fadeOut(200)},2500),$(".lang input").each(function(){$(this).prop("checked")&&$(this).prev().css("background-position","0 -13px")}),$(".lang input").click(function(){$(this).prop("checked")?($(this).prev().css("background-position","0 -13px"),$(this).siblings().prev().css("background-position","0 0"),$(this).siblings().prop("checked",!1)):($(this).prev().css("background-position","0 0"),$(this).siblings().prev().css("background-position","0 -13px"),$(this).siblings().prop("checked",!0))}),$(".lang label").eq(0).click(function(){$("body").addClass("en").removeClass("fr"),void 0==$.cookie("lang")?$.cookie("lang","en",{expires:666}):$.cookie("lang","en")}),$(".lang label").eq(1).click(function(){$("body").addClass("fr").removeClass("en"),void 0==$.cookie("lang")?$.cookie("lang","fr",{expires:666}):$.cookie("lang","fr")}),void 0!=$.cookie("lang")){var t=$.cookie("lang");"en"==t?$("body").addClass("en").removeClass("fr"):$("body").addClass("fr").removeClass("en")}if(onPage("pages-index")){if(void 0==$.cookie("overlay")||"shown"!=$.cookie("overlay")){var e=1421,i=1929,o=$(window).width(),n=o/e,s=i*n;$("#wrapper").css({position:"absolute",top:"0",left:"0",width:"100%",height:s+"px","z-index":"999999",overflow:"hidden",background:"url('/assets/overlay.jpg')","background-size":"cover"}).find(".innerWrapper").hide()}setTimeout(removeOverlay,3e4)}if($(document).on("click","#wrapper",function(){removeOverlay()}),$(".help a").eq(0).click(function(){var t=1421,e=1929,i=$(window).width(),o=i/t,n=e*o;return $("#wrapper").css({position:"absolute",top:"0",left:"0",width:"100%",height:n+"px","z-index":"999999",overflow:"hidden",background:"url('/assets/overlay.jpg')","background-size":"cover"}).find(".innerWrapper").hide(),!1}),onPage("pages-index")||onPage("pages-hub")||onPage("pages-about")||onPage("pages-news")||onPage("pages-contact")||onPage("pages-glossary")||onPage("pages-news_story")||onPage("pages-story")){var a=$("#items");a.isotope({itemSelector:".item",masonry:{columnWidth:1},filter:".nothing"}),$("a.cat").click(function(t){t.preventDefault(),$(".photo, .panels").hide(),$(this).closest("li").toggleClass("on"),$(this).toggleClass("on"),$(".isotope-container-home").animate({"margin-bottom":"100px"},200),$(this).data("category");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==i.length)for(var n=0;n<e.length;n++){var s="."+e[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-home").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)}),$(".seeAll a").click(function(t){t.preventDefault(),$(".photo, .panels").hide(),$(".content-type, .content-type a, .polygons li, .polygons a").addClass("on");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==e.length)for(var n=0;n<i.length;n++){var s="."+i[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-home").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)}),$("a.subcat").click(function(t){t.preventDefault(),$(".photo, .panels").hide(),$(this).toggleClass("on"),$(this).closest(".content-type").toggleClass("on"),$(".isotope-container-home").animate({"margin-bottom":"100px"},200),$(this).data("subcategory");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==e.length)for(var n=0;n<i.length;n++){var s="."+i[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-home").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)})}if(onPage("pages-explore")||onPage("pages-search")){var r=getParameterByName("focus");if(r.length>0){console.log("item focused");var l=r,c=$("#itemId-"+r).attr("class"),h=$("#itemId-"+r).offset().left-$("#items").offset().left,d=0;$("#itemId-"+r).append("<div id='expandedItemId-"+l+"' class='expansion "+c.replace("item","")+"'><div class='loading'></div></div>"),loadingIcon(".expansion .loading"),$.post("/expand",{item:l,left:h,top:d},function(){console.log("success")}).fail(function(){console.log("error")}).always(function(){clearInterval(loadAction)})}$(".seeAll a").click(function(t){t.preventDefault(),$(".photo, .panels").hide(),$(".content-type, .content-type a, .polygons li, .polygons a").addClass("on");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==e.length)for(var n=0;n<i.length;n++){var s="."+i[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-home").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)});var u=getParameterByName("categories");if(u.length>0){$(".polygon."+u).addClass("on");var a=$("#items");a.isotope({itemSelector:".item",masonry:{columnWidth:1},filter:"."+u}),$("a.cat").click(function(t){t.preventDefault(),$(this).closest("li").toggleClass("on"),$(this).toggleClass("on"),$(".isotope-container-home").animate({"margin-bottom":"100px"},200),$(this).data("category");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==i.length)for(var n=0;n<e.length;n++){var s="."+e[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-home").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)}),$("a.subcat").click(function(t){t.preventDefault(),$(this).toggleClass("on"),$(this).closest(".content-type").toggleClass("on"),$(".isotope-container-home").animate({"margin-bottom":"100px"},200),$(this).data("subcategory");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==e.length)for(var n=0;n<i.length;n++){var s="."+i[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-home").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)})}else{$(".content-type, .content-type a, .polygons li, .polygons a").toggleClass("on");var a=$("#items");a.isotope({itemSelector:".item",masonry:{columnWidth:1}}),$("a.cat").click(function(t){t.preventDefault(),$(this).closest("li").toggleClass("on"),$(this).toggleClass("on"),$(".isotope-container-explore, .isotope-container-search").animate({"margin-bottom":"100px"},200),$(this).data("category");var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==i.length)for(var n=0;n<e.length;n++){var s="."+e[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-explore, .isotope-container-search").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)}),$("a.subcat").click(function(t){t.preventDefault(),$(this).toggleClass("on"),$(this).closest(".content-type").toggleClass("on"),$(".isotope-container-explore, .isotope-container-search").animate({"margin-bottom":"100px"},200);var e=[];$(".polygons").find("li.on").each(function(){var t=$(this).find("a").data("category");e.push(t)});var i=[];$(".content-types").find("a.on").each(function(){var t=$(this).data("subcategory");i.push(t)});var o=[];if(0==e.length)for(var n=0;n<i.length;n++){var s="."+i[n];o.push(s)}else if(0==i.length)for(var n=0;n<e.length;n++){var s="."+e[n];o.push(s)}else for(var r=0;r<e.length;r++)for(var n=0;n<i.length;n++){var s="."+e[r]+"."+i[n];o.push(s)}var l=o.join(", ");l=""==l?".nothing"&&$(".isotope-container-explore, .isotope-container-search").animate({"margin-bottom":"0px"},200):l,a.isotope({filter:l}),console.log(l)})}}$("a.turnOn").click(function(){return $(".on-state").show().animate({height:"228px"},200),$(".off-state").animate({bottom:"230px"},200),!1}),$(document).on("click",".pagination a",function(){return $.get(this.href,null,function(){$(".pagination li").eq(-2).index()==$(".pagination .active").index()&&$("<li class='totalPages'><span>3</span></li>").insertAfter($(".pagination .active"))},"script"),!1}),$(".selectRange").click(function(){$(".term-alphabets a.on").removeClass("on"),$(this).addClass("on");var t=$(this).data("range");return $.post("/term-select",{range:t},function(){}),!1}),$(".selectAll").click(function(){$(".term-alphabets a.on").removeClass("on"),$(this).addClass("on");var t=$(this).data("range");return $.post("/term-all",{range:t},function(){}),!1}),$("#related_modules_select").change(function(){var t=$("#related_modules_select option:selected").text(),e=$("#related_modules_select option:selected").val(),i=$("#item_related_modules").val().split(", ");-1!=$.inArray(e,i)?(i.splice($.inArray(e,i),1),$("#item_related_modules").val(i.join(", ")),$("span."+e).remove()):($("#item_related_modules").val(0==$("#item_related_modules").val()?e:$("#item_related_modules").val()+", "+e),$(".selected-modules").append("<span class='selected-mod btn btn-default btn-xs "+e+"'>"+t+"<span class='removemod'>&times;</span></span>"))}),$(document).on("click",".removemod",function(){var t=$(this).parent().attr("class").replace(/\D/g,""),e=$("#item_related_modules").val().split(", ");e.splice($.inArray(t,e),1),$("#item_related_modules").val(e.join(", ")),$("span."+t).remove()}),$(document).on("click","#items .item",function(){console.log("item clicked"),$(".expansion").remove();var t=$(this).attr("id").replace("itemId-",""),e=$(this).attr("class"),i=$(this).offset().left-$("#items").offset().left,o=$(this).offset().top+721>$("#footer").offset().top?$(this).offset().top-$("#items").offset().top-(721-$(this).height()+8):$(this).offset().top-$("#items").offset().top;$(this).append("<div id='expandedItemId-"+t+"' class='expansion "+e.replace("item","")+"'><div class='loading'></div></div>"),loadingIcon(".expansion .loading"),$.post("/expand",{item:t,left:i,top:o},function(){console.log("success")}).fail(function(){console.log("error")}).always(function(){clearInterval(loadAction)})}),$(".seeDash").click(function(){return $(this).hasClass("closeDash")?($(".filter_container").css("margin-bottom","0px"),$(".filter_container").slideUp(400),$(this).html("<span class='en'>See Discovery Dashboard</span><span class='fr'>Voir le Tableau de bord </span>"),$(".lines").css("bottom","0px"),$(".pointer").css("margin-top","-4px")):($(this).addClass("closeDash"),$(".header-lines").prepend($(".filter_container")),$(".header-lines").css("overflow","hidden"),$(".filter_container").css("margin-bottom","25px"),$(".filter_container").slideDown(400),$(this).html("<span class='en'>Close</span><span class='fr'>Fermer</span>")),!1}),$(document).on("click",".minus a",function(){return $(this).closest(".expansion").remove(),$(".item-darkener").remove(),!1}),$(document).on("click","a.trackHist",function(t){t.preventDefault(),console.log("track history");var e=$(this).data("track"),i=$(this),o="";if(void 0==$.cookie("history")){switch(e){case"all":o+=0!=$("a.on").length?"Filter: All":"Filter: None";break;case"cat":var n="";$("a.trackHist.on:not(.sAll)").each(function(){n+=$(this).data("filter"),$(i)!=$("a.trackHist.on:not(.sAll)").eq(-1)&&(n+=",")}),o+="Filter: "+n;break;case"subcat":var n="";$("a.trackHist.on:not(.sAll)").each(function(){n+=$(this).data("filter"),$(i)!=$("a.trackHist.on:not(.sAll)").eq(-1)&&(n+=",")}),o+="Filter: "+n;break;default:o+=""}console.log("tracking: "+o),$.cookie("history",o,{expires:666})}else{switch(e){case"all":o+=0!=$("a.on").length?"Filter: All":"Filter: None";break;case"cat":var n="";$("a.trackHist.on:not(.sAll)").each(function(){n+=$(this).data("filter"),$(i)!=$("a.trackHist.on:not(.sAll)").eq(-1)&&(n+=",")}),o+="Filter: "+n;break;case"subcat":var n="";$("a.trackHist.on:not(.sAll)").each(function(){n+=$(this).data("filter"),$(i)!=$("a.trackHist.on:not(.sAll)").eq(-1)&&(n+=",")}),o+="Filter: "+n;break;default:o+=""}var s=$.cookie("history").split("|");s.push(o),$.cookie("history",s.join("|"))}}),$(".seeHist").click(function(){if($(".h-div").length>0)$(".h-div").remove(),$(".pointer").css("margin-top","-44px").find("a").css({background:"url('/assets/pointer.png') right bottom no-repeat",height:"44px","padding-right":"37px","padding-top":"12px"}).html("<span class='en'>See your visit history</span><span class='fr'>Consulter lhistorique de vos visites</span>").removeClass("closeHist").addClass("seeHist");else{var t=document.createElement("div");if($(t).addClass("h-div"),$("header#header").append(t),$(".pointer").css("margin-top","-183px").find("a").css({background:"url('/assets/close-history.png') right bottom no-repeat",height:"33px","padding-right":"38px","padding-top":"5px"}).html("<span class='en'>Close</span><span class='fr'>Fermer</span>").removeClass("seeHist").addClass("closeHist"),$(t).append("<ul class='unstyled h-list'></ul>"),void 0==$.cookie("history"))$(".h-list").append("<li>Nothing in history</li>");else{var e=$.cookie("history").split("|");$(e).each(function(t,e){var i="";-1!=e.indexOf("Filter")&&(i+="Filtered ");var o=cleanArray(e.replace("Filter: ","").split(","));$(o).each(function(t,e){var n="<span class='"+e+"'>"+e.replace(/-/g," ").replace("and","&")+"</span>";t!=$(o).length-1&&(n+=", "),t==$(o).length-2&&(n+="and "),i+=n}),$(".h-list").append("<li>"+i+"</li>")})}$(".h-div").mCustomScrollbar({scrollInertia:150})}return!1}),$(".story-link").click(function(t){t.preventDefault();var e=$(this).data("htitle"),i="";if(void 0==$.cookie("history"))i+=e,$.cookie("history",i,{expires:666});else{i+=e;var o=$.cookie("history").split("|");o.push(i),$.cookie("history",o.join("|"))}}),$(document).on("click",".arrangeBy",function(){$(".arrangeBy.active").removeClass("active"),$(this).addClass("active");var t=$(this).data("by");$.post("/arrange",{by:t},function(){})})});